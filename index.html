<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriSnap</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="row">
                <div class="title">NutriSnap</div>
            </div>
            <div class="row date-navigation">
                <button onclick="changeDate(-1)">&#9664;</button>
                <button onclick="goToToday()" class="today-button">Today</button>
                <button onclick="changeDate(1)">&#9654;</button>
            </div>
            <div class="row bottom">
                <div class="version">v0.2.0</div>
                <div id="currentDateDisplay"></div>
            </div>
        </div>

        <div class="summary">
            <h2>Daily Summary</h2>
            <div class="progress-bar-container">
                <div class="progress-bar-label">Calories</div>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="caloriesProgressFill">0 / 2150</div>
                </div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-label">Protein</div>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="proteinProgressFill">0g / 116g</div>
                </div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-label">Carbs</div>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="carbsProgressFill">0g / 289g</div>
                </div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar-label">Fat</div>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="fatProgressFill">0g / 38g</div>
                </div>
            </div>
            <p>Total Exercise: <span id="totalExercise">0</span> calories burned</p>
        </div>
        
        <div class="meals">
            <div id="breakfastSlot" class="meal-slot">
                <h3>Breakfast</h3>
                <button onclick="toggleMealForm('breakfast')">Add Breakfast</button>
                <div id="breakfastForm" class="meal-form">
                    <input type="text" id="breakfastDishName" placeholder="Dish Name">
                    <input type="number" id="breakfastCalories" placeholder="Calories">
                    <input type="number" id="breakfastProtein" placeholder="Protein (g)">
                    <input type="number" id="breakfastCarbs" placeholder="Carbs (g)">
                    <input type="number" id="breakfastFat" placeholder="Fat (g)">
                    <button class="saveMealButton" data-meal-type="breakfast">Save Breakfast</button>
                    <div class="image-upload-container">
                        <label for="breakfastImageUpload">Upload Image</label>
                        <input type="file" id="breakfastImageUpload" accept="image/*" onchange="handleImageUpload(this, 'breakfast')">
                        <label for="breakfastImageCapture">Capture Image</label>
                        <input type="file" id="breakfastImageCapture" accept="image/*" capture="environment" onchange="handleImageUpload(this, 'breakfast')">
                    </div>
                    <img id="uploadedImageBreakfast" class="meal-image" alt="">
                </div>                            
                <div id="breakfastItems" class="meal-items"></div>
            </div>
            <div id="lunchSlot" class="meal-slot">
                <h3>Lunch</h3>
                <button onclick="toggleMealForm('lunch')">Add Lunch</button>
                <div id="lunchForm" class="meal-form">
                    <input type="text" id="lunchDishName" placeholder="Dish Name">
                    <input type="number" id="lunchCalories" placeholder="Calories">
                    <input type="number" id="lunchProtein" placeholder="Protein (g)">
                    <input type="number" id="lunchCarbs" placeholder="Carbs (g)">
                    <input type="number" id="lunchFat" placeholder="Fat (g)">
                    <button class="saveMealButton" data-meal-type="lunch">Save Lunch</button>
                    <div class="image-upload-container">
                        <label for="lunchImageUpload">Upload Image</label>
                        <input type="file" id="lunchImageUpload" accept="image/*" onchange="handleImageUpload(this, 'lunch')">
                        <label for="lunchImageCapture">Capture Image</label>
                        <input type="file" id="lunchImageCapture" accept="image/*" capture="environment" onchange="handleImageUpload(this, 'lunch')">
                    </div>
                    <img id="uploadedImageLunch" class="meal-image" alt="">
                </div>
                <div id="lunchItems" class="meal-items"></div>
            </div>
            <div id="dinnerSlot" class="meal-slot">
                <h3>Dinner</h3>
                <button onclick="toggleMealForm('dinner')">Add Dinner</button>
                <div id="dinnerForm" class="meal-form">
                    <input type="text" id="dinnerDishName" placeholder="Dish Name">
                    <input type="number" id="dinnerCalories" placeholder="Calories">
                    <input type="number" id="dinnerProtein" placeholder="Protein (g)">
                    <input type="number" id="dinnerCarbs" placeholder="Carbs (g)">
                    <input type="number" id="dinnerFat" placeholder="Fat (g)">
                    <button class="saveMealButton" data-meal-type="dinner">Save Dinner</button>
                    <div class="image-upload-container">
                        <label for="dinnerImageUpload">Upload Image</label>
                        <input type="file" id="dinnerImageUpload" accept="image/*" onchange="handleImageUpload(this, 'dinner')">
                        <label for="dinnerImageCapture">Capture Image</label>
                        <input type="file" id="dinnerImageCapture" accept="image/*" capture="environment" onchange="handleImageUpload(this, 'dinner')">
                    </div>
                    <img id="uploadedImageDinner" class="meal-image" alt="">
                </div>
                <div id="dinnerItems" class="meal-items"></div>
            </div>
            <div id="snacksSlot" class="meal-slot">
                <h3>Snacks</h3>
                <button onclick="toggleMealForm('snacks')">Add Snacks</button>
                <div id="snacksForm" class="meal-form">
                    <input type="text" id="snacksDishName" placeholder="Dish Name">
                    <input type="number" id="snacksCalories" placeholder="Calories">
                    <input type="number" id="snacksProtein" placeholder="Protein (g)">
                    <input type="number" id="snacksCarbs" placeholder="Carbs (g)">
                    <input type="number" id="snacksFat" placeholder="Fat (g)">
                    <button class="saveMealButton" data-meal-type="snacks">Save Snacks</button>
                    <div class="image-upload-container">
                        <label for="snacksImageUpload">Upload Image</label>
                        <input type="file" id="snacksImageUpload" accept="image/*" onchange="handleImageUpload(this, 'snacks')">
                        <label for="snacksImageCapture">Capture Image</label>
                        <input type="file" id="snacksImageCapture" accept="image/*" capture="environment" onchange="handleImageUpload(this, 'snacks')">
                    </div>
                    <img id="uploadedImageSnacks" class="meal-image" alt="">
                </div>
                <div id="snacksItems" class="meal-items"></div>
            </div>
        </div>
        
        <div class="exercise">
            <h3>Exercise</h3>
            <button onclick="toggleExerciseForm()">Add Exercise</button>
            <div id="exerciseForm">
                <input type="number" id="exerciseCalories" placeholder="Calories burned">
                <button id="saveExerciseButton">Save Exercise</button>
            </div>
            <div id="exerciseItems" class="exercise-items"></div>
        </div>

        <div class="goals">
            <h2>Your Goals</h2>
            <p>Calories: <span id="calorieGoalDisplay">2150</span></p>
            <p>Protein: <span id="proteinGoalDisplay">116</span>g</p>
            <p>Carbs: <span id="carbGoalDisplay">289</span>g</p>
            <p>Fat: <span id="fatGoalDisplay">38</span>g</p>
            <button id="editGoalsButton">Edit Goals</button>
            <div id="editGoalsForm">
                <label for="calorieGoal">Calorie Goal:</label>
                <input type="number" id="calorieGoal" placeholder="e.g., 2000">
                
                <label for="proteinGoal">Protein Goal (g):</label>
                <input type="number" id="proteinGoal" placeholder="e.g., 75">
                
                <label for="carbGoal">Carb Goal (g):</label>
                <input type="number" id="carbGoal" placeholder="e.g., 275">
                
                <label for="fatGoal">Fat Goal (g):</label>
                <input type="number" id="fatGoal" placeholder="e.g., 67">
                
                <button id="saveGoalsButton">Save Goals</button>
            </div>
        </div>
    </div>

    <div id="blurOverlay" class="blur-overlay"></div>

    <!-- Modal Structure -->
    <div id="imageModal" class="modal">
        <img class="modal-content" id="modalImage">
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>
    <script src="js/scripts.js"></script>
</body>
</html>
